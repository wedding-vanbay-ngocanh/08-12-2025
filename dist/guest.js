(()=>{var S=(()=>{let o=null,n=null,h=0,c=0,m=!0,e=null,l=()=>{h+=1},d=()=>`(${c}/${h}) [${parseInt(c/h*100).toFixed(0)}%]`;return{init:()=>{o=document.getElementById("progress-info"),n=document.getElementById("progress-bar"),o.classList.remove("d-none"),e=new Promise(i=>document.addEventListener("undangan.progress.invalid",i))},add:l,invalid:i=>{m&&(m=!1,n.style.backgroundColor="red",o.innerText=`Error loading ${i} ${d()}`,document.dispatchEvent(new Event("undangan.progress.invalid")))},complete:(i,b=!1)=>{m&&(c+=1,o.innerText=`\u0110\u1EE3i ch\xFAng m\xECnh x\xEDu nha, thi\u1EC7p \u0111ang \u0111\u01B0\u1EE3c chu\u1EA9n b\u1ECB c\u1EA9n th\u1EADn \u{1F496} ${d()}`,n.style.width=Math.min(c/h*100,100).toString()+"%",c===h&&(m=!1,e=null),document.dispatchEvent(new Event("undangan.progress.done")),console.log({loaded:c,total:h}))},getAbort:()=>e}})();var C=(()=>{let o='<span class="spinner-border spinner-border-sm my-0 ms-0 me-1 p-0" style="height: 0.8rem; width: 0.8rem;"></span>',n=[["*",'<strong class="text-theme-auto">$1</strong>'],["_",'<em class="text-theme-auto">$1</em>'],["~",'<del class="text-theme-auto">$1</del>'],["```",'<code class="font-monospace text-theme-auto">$1</code>']],h=[{type:"Mobile",regex:/Android.*Mobile|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i},{type:"Tablet",regex:/iPad|Android(?!.*Mobile)|Tablet/i},{type:"Desktop",regex:/Windows NT|Macintosh|Linux/i}],c=[{name:"Chrome",regex:/Chrome|CriOS/i},{name:"Safari",regex:/Safari/i},{name:"Edge",regex:/Edg|Edge/i},{name:"Firefox",regex:/Firefox|FxiOS/i},{name:"Opera",regex:/Opera|OPR/i},{name:"Internet Explorer",regex:/MSIE|Trident/i},{name:"Samsung Browser",regex:/SamsungBrowser/i}],m=[{name:"Windows",regex:/Windows NT ([\d.]+)/i},{name:"MacOS",regex:/Mac OS X ([\d_.]+)/i},{name:"Android",regex:/Android ([\d.]+)/i},{name:"iOS",regex:/OS ([\d_]+) like Mac OS X/i},{name:"Linux",regex:/Linux/i},{name:"Ubuntu",regex:/Ubuntu/i},{name:"Chrome OS",regex:/CrOS/i}],e=t=>String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),l=t=>{let g=w=>{window.alert(`${w} ${t}`)};return{success:()=>g("\u{1F7E9}"),error:()=>g("\u{1F7E5}"),warning:()=>g("\u{1F7E8}"),info:()=>g("\u{1F7E6}"),custom:w=>g(w)}},d=t=>window.confirm(`\u{1F7E6} ${t}`),u=(t,g)=>(t.replaceChildren(document.createRange().createContextualFragment(g)),t),y=(t,g,w=.05)=>new Promise(E=>{let A=parseFloat(t.style.opacity),L=g?1:0,I=()=>{A+=g?w:-w,A=Math.max(0,Math.min(1,A)),t.style.opacity=A.toFixed(2),g&&A>=L||!g&&A<=L?(t.style.opacity=L.toString(),E(t)):requestAnimationFrame(I)};requestAnimationFrame(I)}),v=(t,g=0)=>{let w=null;w=setTimeout(()=>{t(),clearTimeout(w),w=null},g)};return{loader:o,ask:d,copy:async(t,g=null,w=1500)=>{let E=t.getAttribute("data-copy");if(!E||E.length===0){l("Nothing to copy").warning();return}t.disabled=!0;try{await navigator.clipboard.writeText(E)}catch{t.disabled=!1,l("Failed to copy").error();return}let A=t.innerHTML;u(t,g||'<i class="fa-solid fa-check"></i>'),v(()=>{t.disabled=!1,t.innerHTML=A},w)},notify:l,timeOut:v,debounce:(t,g=100)=>{let w=null;return(...E)=>{clearTimeout(w),w=setTimeout(()=>t(...E),g)}},escapeHtml:e,base64Encode:t=>{let w=new TextEncoder().encode(t);return window.btoa(String.fromCharCode(...w))},base64Decode:t=>{let g=new TextDecoder,w=Uint8Array.from(window.atob(t),E=>E.charCodeAt(0));return g.decode(w)},disableButton:(t,g="Loading",w=!1)=>{t.disabled=!0;let E=t.innerHTML;return u(t,w?g:o+g),{restore:(A=!1)=>{t.innerHTML=E,t.disabled=A}}},disableCheckbox:t=>{t.disabled=!0;let g=document.querySelector(`label[for="${t.id}"]`),w=g.innerHTML;return u(g,o+w),{restore:()=>{g.innerHTML=w,t.disabled=!1}}},safeInnerHTML:u,parseUserAgent:t=>{if(!t||typeof t!="string")return"Unknown";let g=h.find(I=>I.regex.test(t))?.type??"Unknown",w=c.find(I=>I.regex.test(t))?.name??"Unknown",E=m.find(I=>I.regex.test(t)),A=E?E.name:"Unknown",L=E?t.match(E.regex)?.[1]?.replace(/_/g,".")??null:null;return`${w} ${g} ${L?`${A} ${L}`:A}`},changeOpacity:y,getGMTOffset:t=>{let g=new Date,w=new Intl.DateTimeFormat("en-US",{timeZone:t,hourCycle:"h23",hour:"numeric"}),E=(parseInt(w.format(g))-g.getUTCHours()+24)%24;return E>12&&(E-=24),`GMT${E>=0?"+":""}${E}`},convertMarkdownToHTML:t=>(n.forEach(([g,w])=>{t=t.replace(new RegExp(`\\${g}(\\S(?:[\\s\\S]*?\\S)?)\\${g}`,"g"),w)}),t)}})();var D="AbortError",Q="TypeError",$={Accept:"application/json","Content-Type":"application/json"},_="request",H=(()=>{let o=null;return{getInstance:n=>{if(!o||!o.has(n))throw new Error(`please init cache first: ${n}`);return o.get(n)},restart:async n=>{o.set(n,null),o.delete(n),await window.caches.delete(n),await window.caches.open(n).then(h=>o.set(n,h))},init:(n,h=[])=>{if(!window.isSecureContext)throw new Error("this application required secure context");o=new Map,Promise.all(h.concat([_]).map(c=>window.caches.open(c).then(m=>o.set(c,m)))).then(()=>n())}}})(),B=o=>{let n=H.getInstance(o);return{set:(e,l,d,u)=>l.clone().arrayBuffer().then(y=>{if(!l.ok)return l;let v=new Date,s=new Headers(l.headers);if(s.has("Date")||s.set("Date",v.toUTCString()),d||!s.has("Cache-Control")){if(!d&&s.has("Expires")){let i=new Date(s.get("Expires"));u=Math.max(0,i.getTime()-v.getTime())}if(u===0)throw new Error("Cache max age cannot be 0");s.set("Cache-Control",`public, max-age=${Math.floor(u/1e3)}`)}return s.has("Content-Length")||s.set("Content-Length",String(y.byteLength)),n.put(e,new Response(y,{headers:s})).then(()=>l)}),has:e=>n.match(e).then(l=>{if(!l)return null;let d=l.headers.get("Cache-Control").match(/max-age=(\d+)/)[1],u=Date.parse(l.headers.get("Date"))+parseInt(d)*1e3;return Date.now()>u?null:l}),del:e=>n.delete(e)}},M=(o,n)=>{let h=new AbortController,c={signal:h.signal,credential:"include",headers:new Headers($),method:String(o).toUpperCase()},m=0,e=0,l=0,d=0,u=!1,y=!1,v=null,s=null,i=null,b=p=>{let f=()=>{let a=()=>window.fetch(p,c).then(async t=>{if(u)return h.abort(),new Response(null,{status:t.status,statusText:t.statusText,headers:new Headers(t.headers)});if(!t.ok||!i)return t;let g=parseInt(t.headers.get("Content-Length")??0);if(g===0)return t;let w=[],E=0,A=t.body.getReader();for(;;){let{done:I,value:F}=await A.read();if(I)break;w.push(F),E+=F.length,await i(E,g,window.structuredClone?window.structuredClone(w):w)}let L=t.headers.get("Content-Type")??"application/octet-stream";return new Response(new Blob(w,{type:L}),{status:t.status,statusText:t.statusText,headers:new Headers(t.headers)})});if(m===0||u)return a();if(c.method!=="GET")return console.warn("Only method GET can be cached"),a();let T=B(_);return T.has(p).then(t=>t?Promise.resolve(t):T.del(p).then(a).then(g=>T.set(p,g,y,m)))};if(e===0||l===0)return f();let r=async()=>{try{return await f()}catch(a){if(a.name===D)throw a;if(l*=2,d++,d>e)throw new Error(`Max retries reached: ${a}`);return console.warn(`Retrying fetch (${d}/${e}): ${p.toString()}`),await new Promise(T=>window.setTimeout(T,l)),r()}};return r()},x=p=>{if(p.status!==200)return Promise.resolve(p);let f=document.querySelector("a[download]");f&&document.body.removeChild(f);let r=p.headers.get("Content-Disposition")?.match(/filename="(.+)"/)?.[1];return p.clone().blob().then(a=>{let T=document.createElement("a"),t=window.URL.createObjectURL(a);return T.href=t,T.download=r||`${s}.${v||(a.type.split("/")?.[1]??"bin")}`,document.body.appendChild(T),T.click(),document.body.removeChild(T),window.URL.revokeObjectURL(t),p})};return{send(p=null){return s&&Object.keys($).forEach(f=>c.headers.delete(f)),b(new URL(n,document.body.getAttribute("data-url"))).then(f=>s&&f.ok?x(f).then(r=>({code:r.status,data:r,error:null})):f.json().then(r=>{if(r.error){let a=r.error.at(0),T=f.status>=500;throw new Error(T?`ID: ${r.id}
\u{1F7E5} ${a}`:`\u{1F7E8} ${a}`)}return p&&(r.data=p(r.data)),Object.assign(r,{code:f.status})})).catch(f=>{if(f.name===D)return console.warn("Fetch aborted:",f),f;throw f.name===Q&&(f=new Error("\u{1F7E5} Network error or rate limit exceeded")),alert(f.message??String(f)),f})},withCache(p=1e3*60*60*6){return m=p,this},withForceCache(p=1e3*60*60*6){return y=!0,m===0&&(m=p),this},withNoBody(){return u=!0,this},withRetry(p=3,f=1e3){return e=p,l=f,this},withCancel(p){return p==null?this:((async()=>(await p,h.abort()))(),this)},withDownload(p,f=null){return s=p,v=f,this},withProgressFunc(p=null){return i=p,this},default(p=null){return c.headers=new Headers(p??{}),b(n).then(f=>s?x(f):Promise.resolve(f))},token(p){return p.split(".").length===3?(c.headers.append("Authorization","Bearer "+p),this):(c.headers.append("x-access-key",p),this)},body(p){if(c.method==="GET")throw new Error("GET method does not support body");return c.body=JSON.stringify(p),this}}};var P=o=>{let n=new Map,h=new Map,c=B(o),m=1e3*60*60*6,e=!1,l=(i,b)=>{if(!b.ok)throw new Error(b.statusText);return c.set(i,b,e,m)},d=i=>c.has(i),u=i=>c.del(i),y=(i,b=null)=>{if(n.has(i))return Promise.resolve(n.get(i));if(h.has(i))return h.get(i);let x=()=>M("GET",i).withCancel(b).withRetry().default(),p=d(i).then(f=>f?Promise.resolve(f):u(i).then(x).then(r=>l(i,r))).then(f=>f.blob()).then(f=>n.set(i,URL.createObjectURL(f))).then(()=>n.get(i)).finally(()=>h.delete(i));return h.set(i,p),p};return{run:(i,b=null)=>{let x=new Map;return i.length===0?Promise.resolve():(i.filter(p=>p!==null).forEach(p=>{let f=x.get(p.url)??[];x.set(p.url,[...f,[p.res,p?.rej]])}),Promise.allSettled(Array.from(x).map(([p,f])=>y(p,b).then(r=>(f.forEach(a=>a[0]?.(r)),r)).catch(r=>(f.forEach(a=>a[1]?.(r)),r)))))},del:u,has:d,set:l,get:y,open,download:async(i,b)=>{if(!new Map(Array.from(n.entries()).map(([p,f])=>[f,p])).has(i))try{if(!new URL(i).protocol.includes("blob"))throw new Error("Is not blob")}catch{i=await y(i)}return M("GET",i).withDownload(b).default()},setTtl(i){return m=Number(i),this},withForceCache(){return e=!0,this}}};var N=(()=>{let o=null,n=()=>{let c=document.getElementById("video-love-stroy");if(!c||!c.hasAttribute("data-src"))return c?.remove(),S.complete("video",!0),Promise.resolve();let m=c.getAttribute("data-src");if(!m)return S.complete("video",!0),Promise.resolve();let e=document.createElement("video");e.className=c.getAttribute("data-vid-class"),e.loop=!0,e.muted=!0,e.controls=!1,e.autoplay=!1,e.playsInline=!0,e.preload="metadata";let l=new IntersectionObserver(y=>y.forEach(v=>v.isIntersecting?e.play():e.pause())),d=y=>{e.preload="auto",e.controls=!0,e.disableRemotePlayback=!0,e.disablePictureInPicture=!0,e.controlsList="noremoteplayback nodownload noplaybackrate",e.src=URL.createObjectURL(y)},u=()=>{let y=document.getElementById("progress-bar-video-love-stroy"),v=document.getElementById("progress-info-video-love-stroy");return M("GET",m).withNoBody().default({Range:"bytes=0-1"}).then(s=>{if(s.status===200)return e.preload="none",e.src=C.escapeHtml(m),c.appendChild(e),Promise.resolve();if(s.status!==206)throw new Error("failed to fetch video");e.addEventListener("error",()=>S.invalid("video"));let i=new Promise(b=>e.addEventListener("loadedmetadata",b,{once:!0}));return e.src=C.escapeHtml(m),c.appendChild(e),i}).then(()=>{e.pause(),e.currentTime=0,S.complete("video");let s=e.getBoundingClientRect().width*(e.videoHeight/e.videoWidth);return e.style.height=`${s}px`,c.style.height=`${s}px`,M("GET",m).withRetry().withProgressFunc((i,b)=>{let x=Number(i/b*100).toFixed(0)+"%";y.style.width=x,v.innerText=x}).default()}).then(s=>s.clone().blob().then(i=>{let b=new Promise(x=>e.addEventListener("loadedmetadata",x,{once:!0}));return d(i),e.load(),b.then(()=>s)})).catch(s=>{y.style.backgroundColor="red",v.innerText="Error loading video",console.error(s)})};return o.has(m).then(y=>y?y.blob().then(v=>{let s=new Promise(i=>e.addEventListener("loadedmetadata",i,{once:!0}));return d(v),c.appendChild(e),s.then(()=>S.complete("video"))}):o.del(m).then(u).then(v=>o.set(m,v))).then(()=>{l.observe(e),e.style.removeProperty("height"),c.style.removeProperty("height"),document.getElementById("video-love-stroy-loading")?.remove()})};return{init:()=>(S.add(),o=P("video").withForceCache(),{load:n})}})();var U=(()=>{let o=null,n=null,h=[],c=s=>new Promise((i,b)=>{let x=new Image;x.onload=()=>i(x),x.onerror=b,x.src=s}),m=(s,i)=>c(i).then(b=>{s.width=b.naturalWidth,s.height=b.naturalHeight,s.classList.remove("opacity-0"),s.src=b.src,b.remove(),S.complete("image")}),e=s=>{h.push({url:s.getAttribute("data-src"),res:i=>m(s,i),rej:i=>{console.error(i),S.invalid("image")}})},l=s=>{s.onload=()=>{s.width=s.naturalWidth,s.height=s.naturalHeight,S.complete("image")},s.complete&&s.naturalWidth!==0&&s.naturalHeight!==0&&S.complete("image")},d=()=>Array.from(o).some(s=>s.hasAttribute("data-src")),u=async()=>{let s=Array.from(o),i=async b=>{h.length=0,s.filter(b).forEach(x=>x.hasAttribute("data-src")?e(x):l(x)),await n.run(h,S.getAbort())};await i(b=>b.hasAttribute("fetchpriority")),await i(b=>!b.hasAttribute("fetchpriority"))},y=s=>{n.download(s,`${window.location.hostname}_image_${Date.now()}`)};return{init:()=>(n=P("image").withForceCache(),o=document.querySelectorAll("img"),o.forEach(S.add),{load:u,download:y,hasDataSrc:d})}})();var q=(()=>{let o='<i class="fa-solid fa-circle-pause spin-button"></i>',n='<i class="fa-solid fa-circle-play"></i>',h=async(m=!0)=>{let e=!1,l=document.body.getAttribute("data-audio");if(!l){S.complete("audio",!0);return}let d=null;try{d=new Audio(await P("audio").withForceCache().get(l,S.getAbort())),d.loop=!0,d.muted=!1,d.autoplay=!1,d.controls=!1,S.complete("audio")}catch{S.valid("audio");return}let u=!1,y=document.getElementById("button-music"),v=async()=>{y.disabled=!0;try{await d.play(),u=!0,e=!1,y.disabled=!1,y.innerHTML=o}catch{}},s=()=>{u=!1,e=!1,d.pause(),y.innerHTML=n};document.addEventListener("undangan.open",()=>{y.classList.remove("d-none"),m&&v()}),document.addEventListener("visibilitychange",()=>{if(document.hidden)u&&(d.pause(),e=!0);else if(e&&u)try{d.play(),e=!1}catch(i){console.error("L\u1ED7i khi c\u1ED1 g\u1EAFng ph\xE1t l\u1EA1i \xE2m thanh:",i)}}),y.addEventListener("click",()=>u?s():v())};return{init:()=>(S.add(),{load:h})}})();var z={tab:h=>window.bootstrap.Tab.getOrCreateInstance(document.getElementById(h)),modal:h=>window.bootstrap.Modal.getOrCreateInstance(document.getElementById(h))};var ee=o=>{let n="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css",h="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js",c=()=>o.get(n).then(e=>new Promise((l,d)=>{let u=document.createElement("link");u.onload=l,u.onerror=d,u.rel="stylesheet",u.href=e,document.head.appendChild(u)})),m=()=>o.get(h).then(e=>new Promise((l,d)=>{let u=document.createElement("script");u.onload=l,u.onerror=d,u.src=e,document.head.appendChild(u)}));return Promise.all([c(),m()]).then(()=>{if(typeof window.AOS>"u")throw new Error("AOS library failed to load");window.AOS.init()})},te=o=>o.get("https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.js").then(h=>new Promise((c,m)=>{let e=document.createElement("script");e.onerror=m,e.onload=()=>{typeof window.confetti>"u"?m(new Error("Confetti library failed to load")):c()},e.src=h,document.head.appendChild(e)})),ne=o=>{let n=[{css:"https://fonts.googleapis.com/css2?family=Sacramento&display=swap",family:"Sacramento"},{css:"https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic&display=swap",family:"Noto Naskh Arabic"}],h=({css:c,family:m})=>o.get(c).then(e=>new Promise((l,d)=>{let u=document.createElement("link");u.onload=l,u.onerror=d,u.rel="stylesheet",u.href=e,document.head.appendChild(u)})).then(()=>document.fonts.load(`1em "${m}"`));return Promise.all(n.map(h))},j=(o={})=>{let n=[],h=P("libs").withForceCache();return(o?.aos??!0)&&n.push(ee(h)),(o?.confetti??!0)&&n.push(te(h)),(o?.additionalFont??!0)&&n.push(ne(h)),Promise.all(n)};var O=o=>{let n=(l=null)=>{let d=JSON.parse(localStorage.getItem(o));return l?d[String(l)]:d},h=(l,d)=>{let u=n();u[String(l)]=d,localStorage.setItem(o,JSON.stringify(u))},c=l=>Object.keys(n()).includes(String(l)),m=l=>{if(!c(l))return;let d=n();delete d[String(l)],localStorage.setItem(o,JSON.stringify(d))},e=()=>localStorage.setItem(o,"{}");return localStorage.getItem(o)||e(),{set:h,get:n,has:c,clear:e,unset:m}};var R=(()=>{let o={"#000000":"#ffffff","#ffffff":"#000000","#212529":"#f8f9fa","#f8f9fa":"#212529"},n=["#ffffff","#f8f9fa"],h=["#000000","#212529"],c=!1,m=null,e=null,l=()=>m.set("active","light"),d=()=>m.set("active","dark"),u=f=>{let r=e.getAttribute("content");e.setAttribute("content",f.some(a=>a===r)?o[r]:r)},y=()=>{l(),document.documentElement.setAttribute("data-bs-theme","light"),u(h)},v=()=>{d(),document.documentElement.setAttribute("data-bs-theme","dark"),u(n)},s=(f=null,r=null)=>{let a=m.get("active")==="dark";return f&&r?a?f:r:a};return{init:()=>{switch(m=O("theme"),e=document.querySelector('meta[name="theme-color"]'),m.has("active")||(window.matchMedia("(prefers-color-scheme: dark)").matches?d():l()),document.documentElement.getAttribute("data-bs-theme")){case"dark":d();break;case"light":l();break;default:c=!0}s()?v():y()},spyTop:()=>{let f=a=>a.filter(T=>T.isIntersecting).forEach(T=>{let t=T.target.classList.contains("bg-white-black")?s(h[0],n[0]):s(h[1],n[1]);e.setAttribute("content",t)}),r=new IntersectionObserver(f,{rootMargin:"0% 0% -95% 0%"});document.querySelectorAll("section").forEach(a=>r.observe(a))},change:()=>s()?y():v(),isDarkMode:s,isAutoMode:()=>c}})();var G=(()=>{let o={id:"ID",en:"US",fr:"FR",de:"DE",es:"ES",zh:"CN",ja:"JP",ko:"KR",ar:"SA",ru:"RU",it:"IT",nl:"NL",pt:"PT",tr:"TR",th:"TH",vi:"VN",ms:"MY",hi:"IN"},n=null,h=null,c=null,m=null;return{on(e,l){return m.set(e,l),this},get(){let e=m.get(c);return m.clear(),e},getCountry(){return n},getLocale(){return h},getLanguage(){return c},setDefault(e){let l=!0;o[e]||(l=!1,console.warn("Language not found, please add manually in countryMapping")),n=l?o[e]:"US",c=l?e:"en",h=`${c}_${n}`},init(){m=new Map,this.setDefault(navigator.language.split("-").shift())}}})();var W=()=>window.confetti.shapeFromPath({path:"M167 72c19,-38 37,-56 75,-56 42,0 76,33 76,75 0,76 -76,151 -151,227 -76,-76 -151,-151 -151,-227 0,-42 33,-75 75,-75 38,0 57,18 76,56z",matrix:[.03333333333333333,0,0,.03333333333333333,-5.566666666666666,-5.533333333333333]}),V=()=>{window.confetti&&window.confetti({origin:{y:1},zIndex:1057})},J=(o=15)=>{if(!window.confetti)return;let n=o*1e3,h=Date.now()+n,c=W(),m=["#FFC0CB","#FF1493","#C71585"],e=(d,u)=>Math.random()*(u-d)+d,l=()=>{let d=h-Date.now();m.forEach(u=>{window.confetti({particleCount:1,startVelocity:0,ticks:Math.max(50,75*(d/n)),origin:{x:Math.random(),y:Math.abs(Math.random()-d/n)},zIndex:1057,colors:[u],shapes:[c],drift:e(-.5,.5),gravity:e(.5,1),scalar:e(.5,1)})}),d>0&&requestAnimationFrame(l)};requestAnimationFrame(l)},K=(o,n=50)=>{if(!window.confetti)return;let h=Date.now()+n,c=o.getBoundingClientRect(),m=Math.max(.3,Math.min(1,c.top/window.innerHeight+.2)),e=W(),l=["#FF69B4","#FF1493"],d=()=>{l.forEach(u=>{window.confetti({particleCount:2,angle:60,spread:55,shapes:[e],origin:{x:c.left/window.innerWidth,y:m},zIndex:1057,colors:[u]}),window.confetti({particleCount:2,angle:120,spread:55,shapes:[e],origin:{x:c.right/window.innerWidth,y:m},zIndex:1057,colors:[u]})}),Date.now()<h&&requestAnimationFrame(d)};requestAnimationFrame(d)};var X=(()=>{let o=null,n=null,h=()=>{let r=new Date(document.body.getAttribute("data-time").replace(" ","T")).getTime(),a=A=>A<10?`0${A}`:`${A}`,T=document.getElementById("day"),t=document.getElementById("hour"),g=document.getElementById("minute"),w=document.getElementById("second"),E=()=>{let A=Math.abs(r-Date.now());T.textContent=a(Math.floor(A/(1e3*60*60*24))),t.textContent=a(Math.floor(A%(1e3*60*60*24)/(1e3*60*60))),g.textContent=a(Math.floor(A%(1e3*60*60)/(1e3*60))),w.textContent=a(Math.floor(A%(1e3*60)/1e3)),C.timeOut(E,1e3-Date.now()%1e3)};C.timeOut(E)},c=()=>{let r=window.location.search.split("to="),a=null;if(r.length>1&&r[1].length>=1&&(a=window.decodeURIComponent(r[1])),a){let t=document.getElementById("guest-name"),g=document.createElement("div");g.classList.add("m-2");let w=`<small class="mt-0 mb-1 mx-0 p-0">${C.escapeHtml(t?.getAttribute("data-message"))}</small><p class="m-0 p-0" style="font-size: 1.25rem">${C.escapeHtml(a)}</p>`;C.safeInnerHTML(g,w),t?.appendChild(g)}let T=document.getElementById("form-name");T&&(T.value=o.get("name")??a)},m=async()=>{let a=document.querySelectorAll(".slide-desktop");if(!a||a.length===0)return;let T=document.getElementById("root")?.querySelector(".d-sm-block");if(!T||(T.dispatchEvent(new Event("undangan.slide.stop")),window.getComputedStyle(T).display==="none"))return;if(a.length===1){await C.changeOpacity(a[0],!0);return}let t=0;for(let[A,L]of a.entries())if(A===t){L.classList.add("slide-desktop-active"),await C.changeOpacity(L,!0);break}let g=!0,w=async()=>(await C.changeOpacity(a[t],!1),a[t].classList.remove("slide-desktop-active"),t=(t+1)%a.length,g&&(a[t].classList.add("slide-desktop-active"),await C.changeOpacity(a[t],!0)),g);T.addEventListener("undangan.slide.stop",()=>{g=!1});let E=async()=>{await w()&&C.timeOut(E,6e3)};C.timeOut(E,6e3)},e=r=>{r.disabled=!0,document.body.scrollIntoView({behavior:"instant"}),document.getElementById("root").classList.remove("opacity-0"),R.isAutoMode()&&document.getElementById("button-theme").classList.remove("d-none"),m(),R.spyTop(),V(),C.timeOut(J,1500),document.dispatchEvent(new Event("undangan.open")),C.changeOpacity(document.getElementById("welcome"),!1).then(a=>a.remove())},l=r=>{document.getElementById("button-modal-click").setAttribute("href",r.src),document.getElementById("button-modal-download").setAttribute("data-src",r.src);let a=document.getElementById("show-modal-image");a.src=r.src,a.width=r.width,a.height=r.height,z.modal("modal-image").show()},d=()=>{document.getElementById("show-modal-image").addEventListener("click",r=>{let a=r.currentTarget.parentNode.querySelector(".position-absolute");a.classList.contains("d-none")?a.classList.replace("d-none","d-flex"):a.classList.replace("d-flex","d-none")})},u=r=>{navigator.vibrate&&navigator.vibrate(500),K(r,100),C.changeOpacity(r,!1).then(a=>a.remove())},y=()=>o.set("info",!0),v=()=>{document.querySelectorAll(".font-arabic").forEach(r=>{r.innerHTML=String(r.innerHTML).normalize("NFC")})},s=()=>{document.querySelectorAll("svg").forEach(r=>{r.hasAttribute("data-class")&&C.timeOut(()=>r.classList.add(r.getAttribute("data-class")),parseInt(r.getAttribute("data-time")))})},i=()=>{let r=t=>new Date(t.replace(" ","T")+":00Z").toISOString().replace(/[-:]/g,"").split(".").shift(),a=new URL("https://calendar.google.com/calendar/render"),T=new URLSearchParams({action:"TEMPLATE",text:"\u0110\xE1m c\u01B0\u1EDBi c\u1EE7a V\u0103n B\u1EA3y v\xE0 Ng\u1ECDc \xC1nh",dates:`${r("2025-12-08 13:01")}/${r("2025-12-08 13:01")}`,details:"D\xF9 kh\xF4ng th\u1EC3 tr\xE1nh kh\u1ECFi nh\u1EEFng thi\u1EBFu s\xF3t, ch\xFAng t\xF4i tr\xE2n tr\u1ECDng k\xEDnh m\u1EDDi Qu\xFD v\u1ECB v\xE0 gia \u0111\xECnh b\u1EDBt ch\xFAt th\u1EDDi gian qu\xFD b\xE1u \u0111\u1EBFn tham d\u1EF1 L\u1EC5 Th\xE0nh h\xF4n c\u1EE7a ch\xFAng t\xF4i. S\u1EF1 hi\u1EC7n di\u1EC7n v\xE0 l\u1EDDi ch\xFAc ph\xFAc c\u1EE7a Qu\xFD v\u1ECB ch\xEDnh l\xE0 ni\u1EC1m vinh d\u1EF1 v\xE0 ni\u1EC1m vui l\u1EDBn nh\u1EA5t \u0111\u1ED1i v\u1EDBi c\xF4 d\xE2u ch\xFA r\u1EC3. Xin ch\xE2n th\xE0nh c\u1EA3m \u01A1n",location:"S\u1ED1 nh\xE0 01, ng\xF5 26, \u0111\u01B0\u1EDDng th\xF4n N\u1ED9i 3, x\xE3 Ho\xE0i \u0110\u1EE9c, th\xE0nh ph\u1ED1 H\xE0 N\u1ED9i",ctz:n.get("vn")});a.search=T.toString(),document.querySelector("#home button")?.addEventListener("click",()=>window.open(a,"_blank"))},b=()=>(S.add(),{load:a=>{j(a).then(()=>S.complete("libs")).catch(()=>S.valid("libs"))}}),x=async()=>{s(),h(),c(),d(),v(),i(),o.get("info")&&document.getElementById("information")?.remove(),await C.changeOpacity(document.getElementById("welcome"),!0),await C.changeOpacity(document.getElementById("loading"),!1).then(r=>r.remove())},p=()=>{G.init(),S.init(),n=O("config"),o=O("information");let r=N.init(),a=U.init(),T=q.init(),t=b(),g=new URLSearchParams(window.location.search);window.addEventListener("resize",C.debounce(m)),document.addEventListener("undangan.progress.done",()=>x()),document.addEventListener("hide.bs.modal",()=>document.activeElement?.blur()),r.load(),a.load(),T.load(),t.load({confetti:document.body.getAttribute("data-confetti")==="true"}),S.add(),S.add(),a.hasDataSrc()||a.load()};return{init:()=>(R.init(),window.addEventListener("load",()=>{H.init(p,["image","video","audio","libs","gif"])}),{util:C,theme:R,guest:{open:e,modal:l,showStory:u,closeInformation:y}})}})();(o=>{o.undangan=X.init()})(window);})();
